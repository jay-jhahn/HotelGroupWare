{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar DataUtils_1 = require(\"../../Utils/DataUtils\");\n\nvar FilterUtils_1 = require(\"../../Utils/FilterUtils\");\n\nvar GroupUtils_1 = require(\"../../Utils/GroupUtils\");\n\nvar DataAndDetailsRows_1 = __importDefault(require(\"../DataAndDetailsRows/DataAndDetailsRows\"));\n\nvar GroupRow_1 = __importDefault(require(\"../GroupRow/GroupRow\"));\n\nvar Rows = function (props) {\n  var childComponents = props.childComponents,\n      columns = props.columns,\n      data = props.data,\n      _a = props.detailsRows,\n      detailsRows = _a === void 0 ? [] : _a,\n      dispatch = props.dispatch,\n      editableCells = props.editableCells,\n      format = props.format,\n      groupedColumns = props.groupedColumns,\n      _b = props.groups,\n      groups = _b === void 0 ? [] : _b,\n      _c = props.groupsExpanded,\n      groupsExpanded = _c === void 0 ? [] : _c,\n      onFirstRowRendered = props.onFirstRowRendered,\n      rowKeyField = props.rowKeyField,\n      rowReordering = props.rowReordering,\n      selectedRows = props.selectedRows,\n      validation = props.validation;\n  var groupMark = GroupUtils_1.getGroupMark();\n  var firstRowRef = react_1.useRef(null);\n  react_1.useEffect(function () {\n    onFirstRowRendered(firstRowRef);\n  }, [firstRowRef, onFirstRowRendered]);\n  var rowRefLink = firstRowRef;\n  return react_1.default.createElement(react_1.default.Fragment, null, data.map(function (d) {\n    if (d.groupMark === groupMark) {\n      var groupIndex = d.key.length - 1;\n      var group_1 = groups && groups[groupIndex];\n      var column = group_1 && groupedColumns.find(function (c) {\n        return c.key === group_1.columnKey;\n      });\n      return react_1.default.createElement(GroupRow_1.default, {\n        childComponents: childComponents,\n        column: column,\n        contentColSpan: columns.length - groupIndex + groups.length,\n        dispatch: dispatch,\n        groupIndex: groupIndex,\n        groupKey: d.key,\n        isExpanded: groupsExpanded.some(function (ge) {\n          return JSON.stringify(ge) === JSON.stringify(d.key);\n        }),\n        text: GroupUtils_1.getGroupText(d.value, column),\n        key: d.key\n      });\n    } else {\n      var rowKeyValue_1 = DataUtils_1.getValueByField(d, rowKeyField);\n      var isSelectedRow = selectedRows.some(function (s) {\n        return s === rowKeyValue_1;\n      });\n      var isDetailsRowShown = detailsRows.some(function (r) {\n        return r === rowKeyValue_1;\n      });\n      var rowEditableCells = FilterUtils_1.getRowEditableCells(rowKeyValue_1, editableCells);\n      var dataRow = react_1.default.createElement(DataAndDetailsRows_1.default, {\n        childComponents: props.childComponents,\n        columns: props.columns,\n        dispatch: dispatch,\n        editableCells: props.editableCells,\n        editingMode: props.editingMode,\n        format: format,\n        groupColumnsCount: props.groupColumnsCount,\n        isDetailsRowShown: isDetailsRowShown,\n        isSelectedRow: isSelectedRow,\n        key: rowKeyValue_1,\n        rowData: d,\n        rowEditableCells: rowEditableCells,\n        rowKeyField: props.rowKeyField,\n        rowKeyValue: rowKeyValue_1,\n        rowReordering: rowReordering,\n        selectedRows: props.selectedRows,\n        trRef: rowRefLink,\n        validation: validation\n      });\n      rowRefLink = undefined;\n      return dataRow;\n    }\n  }));\n};\n\nexports.default = Rows;","map":{"version":3,"sources":["C:/Dev76/workspace_react/board/node_modules/ka-table/Components/Rows/Rows.js"],"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","__importDefault","defineProperty","exports","value","react_1","require","DataUtils_1","FilterUtils_1","GroupUtils_1","DataAndDetailsRows_1","GroupRow_1","Rows","props","childComponents","columns","data","_a","detailsRows","dispatch","editableCells","format","groupedColumns","_b","groups","_c","groupsExpanded","onFirstRowRendered","rowKeyField","rowReordering","selectedRows","validation","groupMark","getGroupMark","firstRowRef","useRef","useEffect","rowRefLink","default","createElement","Fragment","map","d","groupIndex","key","length","group_1","column","find","c","columnKey","contentColSpan","groupKey","isExpanded","some","ge","JSON","stringify","text","getGroupText","rowKeyValue_1","getValueByField","isSelectedRow","s","isDetailsRowShown","r","rowEditableCells","getRowEditableCells","dataRow","editingMode","groupColumnsCount","rowData","rowKeyValue","trRef","undefined"],"mappings":"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","sourcesContent":["\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar DataUtils_1 = require(\"../../Utils/DataUtils\");\r\nvar FilterUtils_1 = require(\"../../Utils/FilterUtils\");\r\nvar GroupUtils_1 = require(\"../../Utils/GroupUtils\");\r\nvar DataAndDetailsRows_1 = __importDefault(require(\"../DataAndDetailsRows/DataAndDetailsRows\"));\r\nvar GroupRow_1 = __importDefault(require(\"../GroupRow/GroupRow\"));\r\nvar Rows = function (props) {\r\n    var childComponents = props.childComponents, columns = props.columns, data = props.data, _a = props.detailsRows, detailsRows = _a === void 0 ? [] : _a, dispatch = props.dispatch, editableCells = props.editableCells, format = props.format, groupedColumns = props.groupedColumns, _b = props.groups, groups = _b === void 0 ? [] : _b, _c = props.groupsExpanded, groupsExpanded = _c === void 0 ? [] : _c, onFirstRowRendered = props.onFirstRowRendered, rowKeyField = props.rowKeyField, rowReordering = props.rowReordering, selectedRows = props.selectedRows, validation = props.validation;\r\n    var groupMark = GroupUtils_1.getGroupMark();\r\n    var firstRowRef = react_1.useRef(null);\r\n    react_1.useEffect(function () {\r\n        onFirstRowRendered(firstRowRef);\r\n    }, [firstRowRef, onFirstRowRendered]);\r\n    var rowRefLink = firstRowRef;\r\n    return (react_1.default.createElement(react_1.default.Fragment, null, data.map(function (d) {\r\n        if (d.groupMark === groupMark) {\r\n            var groupIndex = d.key.length - 1;\r\n            var group_1 = groups && groups[groupIndex];\r\n            var column = group_1 && groupedColumns.find(function (c) { return c.key === group_1.columnKey; });\r\n            return (react_1.default.createElement(GroupRow_1.default, { childComponents: childComponents, column: column, contentColSpan: columns.length - groupIndex + groups.length, dispatch: dispatch, groupIndex: groupIndex, groupKey: d.key, isExpanded: groupsExpanded.some(function (ge) { return JSON.stringify(ge) === JSON.stringify(d.key); }), text: GroupUtils_1.getGroupText(d.value, column), key: d.key }));\r\n        }\r\n        else {\r\n            var rowKeyValue_1 = DataUtils_1.getValueByField(d, rowKeyField);\r\n            var isSelectedRow = selectedRows.some(function (s) { return s === rowKeyValue_1; });\r\n            var isDetailsRowShown = detailsRows.some(function (r) { return r === rowKeyValue_1; });\r\n            var rowEditableCells = FilterUtils_1.getRowEditableCells(rowKeyValue_1, editableCells);\r\n            var dataRow = (react_1.default.createElement(DataAndDetailsRows_1.default, { childComponents: props.childComponents, columns: props.columns, dispatch: dispatch, editableCells: props.editableCells, editingMode: props.editingMode, format: format, groupColumnsCount: props.groupColumnsCount, isDetailsRowShown: isDetailsRowShown, isSelectedRow: isSelectedRow, key: rowKeyValue_1, rowData: d, rowEditableCells: rowEditableCells, rowKeyField: props.rowKeyField, rowKeyValue: rowKeyValue_1, rowReordering: rowReordering, selectedRows: props.selectedRows, trRef: rowRefLink, validation: validation }));\r\n            rowRefLink = undefined;\r\n            return dataRow;\r\n        }\r\n    })));\r\n};\r\nexports.default = Rows;\r\n"]},"metadata":{},"sourceType":"script"}