{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ColumnUtils_1 = require(\"./ColumnUtils\");\n\nexports.getParentValue = function (rowData, fieldParents) {\n  var parentValue = fieldParents.reduce(function (previousValue, currentValue) {\n    var result = previousValue && previousValue[currentValue];\n    return result !== undefined ? result : undefined;\n  }, rowData);\n  return parentValue ? __assign({}, parentValue) : undefined;\n};\n\nexports.createObjByFields = function (fieldParents, field, value) {\n  var parentValue = {};\n\n  if (fieldParents.length) {\n    fieldParents.reduce(function (previousValue, currentItem, currentIndex) {\n      var lastObj = {};\n      previousValue[currentItem] = lastObj;\n\n      if (currentIndex === fieldParents.length - 1) {\n        lastObj[field] = value;\n      }\n\n      return lastObj;\n    }, parentValue);\n  } else {\n    parentValue[field] = value;\n  }\n\n  return __assign({}, parentValue);\n};\n\nexports.getValueByColumn = function (rowData, column) {\n  return exports.getValueByField(rowData, ColumnUtils_1.getField(column));\n};\n\nexports.getValueByField = function (rowData, field) {\n  var o = __assign({}, rowData);\n\n  var names = ColumnUtils_1.getFieldParts(field);\n\n  for (var i = 0, n = names.length; i < n; ++i) {\n    var k = names[i];\n\n    if (k in o) {\n      o = o[k];\n    } else {\n      return;\n    }\n  }\n\n  return o;\n};\n\nvar replaceValueForField = function (rowData, field, newValue, fieldParents) {\n  var result = __assign({}, rowData);\n\n  if (fieldParents && fieldParents.length) {\n    var parentValue = exports.getParentValue(result, fieldParents) || {};\n    parentValue[field] = newValue;\n\n    var parentsOfParent = __spreadArrays(fieldParents);\n\n    var parentFieldName = parentsOfParent.pop();\n    result = replaceValueForField(result, parentFieldName, parentValue, parentsOfParent);\n  } else {\n    result[field] = newValue;\n  }\n\n  return result;\n};\n\nexports.replaceValue = function (rowData, column, newValue) {\n  var field = ColumnUtils_1.getField(column);\n  return replaceValueForField(rowData, ColumnUtils_1.getLastField(field), newValue, ColumnUtils_1.getLastFieldParents(field));\n};\n\nexports.reorderData = function (data, getKey, keyValue, targetKeyValue) {\n  var moved = data.find(function (d) {\n    return getKey(d) === keyValue;\n  });\n  var newData = data.filter(function (d) {\n    return getKey(d) !== keyValue;\n  });\n  var targetIndex = data.findIndex(function (d) {\n    return getKey(d) === targetKeyValue;\n  });\n  newData.splice(targetIndex, 0, moved);\n  return newData;\n};","map":{"version":3,"sources":["C:/Dev76/workspace_react/board/node_modules/ka-table/Utils/DataUtils.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArrays","il","r","Array","k","a","j","jl","defineProperty","exports","value","ColumnUtils_1","require","getParentValue","rowData","fieldParents","parentValue","reduce","previousValue","currentValue","result","undefined","createObjByFields","field","currentItem","currentIndex","lastObj","getValueByColumn","column","getValueByField","getField","o","names","getFieldParts","replaceValueForField","newValue","parentsOfParent","parentFieldName","pop","replaceValue","getLastField","getLastFieldParents","reorderData","data","getKey","keyValue","targetKeyValue","moved","find","d","newData","filter","targetIndex","findIndex","splice"],"mappings":"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","sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ColumnUtils_1 = require(\"./ColumnUtils\");\r\nexports.getParentValue = function (rowData, fieldParents) {\r\n    var parentValue = fieldParents.reduce(function (previousValue, currentValue) {\r\n        var result = (previousValue && previousValue[currentValue]);\r\n        return result !== undefined ? result : undefined;\r\n    }, rowData);\r\n    return parentValue ? __assign({}, parentValue) : undefined;\r\n};\r\nexports.createObjByFields = function (fieldParents, field, value) {\r\n    var parentValue = {};\r\n    if (fieldParents.length) {\r\n        fieldParents.reduce(function (previousValue, currentItem, currentIndex) {\r\n            var lastObj = {};\r\n            previousValue[currentItem] = lastObj;\r\n            if (currentIndex === (fieldParents.length - 1)) {\r\n                lastObj[field] = value;\r\n            }\r\n            return lastObj;\r\n        }, parentValue);\r\n    }\r\n    else {\r\n        parentValue[field] = value;\r\n    }\r\n    return __assign({}, parentValue);\r\n};\r\nexports.getValueByColumn = function (rowData, column) {\r\n    return exports.getValueByField(rowData, ColumnUtils_1.getField(column));\r\n};\r\nexports.getValueByField = function (rowData, field) {\r\n    var o = __assign({}, rowData);\r\n    var names = ColumnUtils_1.getFieldParts(field);\r\n    for (var i = 0, n = names.length; i < n; ++i) {\r\n        var k = names[i];\r\n        if (k in o) {\r\n            o = o[k];\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    }\r\n    return o;\r\n};\r\nvar replaceValueForField = function (rowData, field, newValue, fieldParents) {\r\n    var result = __assign({}, rowData);\r\n    if (fieldParents && fieldParents.length) {\r\n        var parentValue = exports.getParentValue(result, fieldParents) || {};\r\n        parentValue[field] = newValue;\r\n        var parentsOfParent = __spreadArrays(fieldParents);\r\n        var parentFieldName = parentsOfParent.pop();\r\n        result = replaceValueForField(result, parentFieldName, parentValue, parentsOfParent);\r\n    }\r\n    else {\r\n        result[field] = newValue;\r\n    }\r\n    return result;\r\n};\r\nexports.replaceValue = function (rowData, column, newValue) {\r\n    var field = ColumnUtils_1.getField(column);\r\n    return replaceValueForField(rowData, ColumnUtils_1.getLastField(field), newValue, ColumnUtils_1.getLastFieldParents(field));\r\n};\r\nexports.reorderData = function (data, getKey, keyValue, targetKeyValue) {\r\n    var moved = data.find(function (d) { return getKey(d) === keyValue; });\r\n    var newData = data.filter(function (d) { return getKey(d) !== keyValue; });\r\n    var targetIndex = data.findIndex(function (d) { return getKey(d) === targetKeyValue; });\r\n    newData.splice(targetIndex, 0, moved);\r\n    return newData;\r\n};\r\n"]},"metadata":{},"sourceType":"script"}